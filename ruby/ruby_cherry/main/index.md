# 文法
## 省略可能
- 引数の()
- hash引数の{} #hash引数が最後だった場合のみ

## 改行可能
- 文字列系
- 代入式

## 式
- 式展開
  ```
  n = n + 1
  n += 1

  n = n || 10
  n ||= 10
  ```

## 文字列
- ""は式展開可能、''は式展開出来ない
- 配列と同じように[]の文字数指定、<<の代入が可能
- ヒアドキュメント
  - インデント消したり、色々とオプションあり
  - 引数として渡せる
  ```
  << TEXT
  日本語
  TEXT

  TEXT == "日本語"

  method(<< TEXT2)
  japan
  us
  india
  TEXT
  ```

### 数値
- `0b, 0, 0x`--- 2, 8, 16進数
- `値e-指数`--- 指数表記(2e-3 => 0.002)

## %記法
- `q` シングルクォーテーション
- `Q` ダブルクォーテーション
- `W` 配列

# メソッド
## 引数
- `デフォルト値`--- `arg = dafault`
- `可変長引数`--- `*arg`
  - 複数の引数を配列として受け取る
- `hash引数`--- `**arg`
  - hashを受け取れる
- `キーワード引数`--- `arg: default` or `arg:`
  - 呼び出すときに`arg: value`の形で記述出来る、引数の意味が理解しやすいため可読性が上がる
  ```
  def method(arg1: 'default', arg2:)
  end

  # デフォルト値が設定されている物は省略可能
  method(arg1, arg2: 'data') #=> arg1は'default'になり、arg2には'data'が渡される

  # hashをキーワード引数として渡せる
  params = {arg1: 'value1', arg2: 'value2'}
  method(params)
  ```

## ブロック
- 対象が多次元配列やhashだと挙動が異なる
- `&:`
  - 以下の条件の時のみ { |block| block.メソッド } を (&:メソッド) に書き換えられる
    - ブロックが一つ
    - 処理が1つ
    - メソッドに引数がない
    - 例: array.select { |data| data.odd? } => array.select(&:odd?)
  ```
  array.map { |block| block.upcase }
  array.map(&:upcase)
  ```

# 演算、イディオム
- `三項演算子`
- `&.演算子`
  - 対象がnilならnilを返し、対象が存在するならメソッドを実行する
  ```
  a&.upcase #=> aがnilならnil, aが'abc'ならaが'ABC'になり'ABC'が返る
  ```
- `自己代入`--- `||=`
  - 自身がnilなら値を代入し、そうでないなら自身を代入する
  ```
  a ||= 10 #=> aがnilなら10, aが20なら20
  ```
- `ビット演算`
  ```
  0b0110 | 0b1010 => 0b1110
  0b0110 & 0b1010 => 0b0010
  ```
- `真偽値変換`--- `!!`
  - !を2回使う事により、元の真偽値へ変換
  ```
  !!1 #=> ture
  ```
