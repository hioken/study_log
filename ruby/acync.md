# rubyの非同期
## 説明
- 基本はマルチスレッドで、並列したい処理が出るたびに新規でスレッドを立てて並列処理できる
- プロセス等を使う場合は、開発者がマシンスペックを考える必要がある

## Thread
- インスタンス作成時に同時にスレッドを作成、渡したブロックを実行
- インスタンスはそのスレッド自体として振る舞い、メソッドでスレッド及び、スレッドの呼び出し元スレッド(大体はメインスレッド)を制御できる
- メモリは全体で共有
- メソッド

| インスタンスメソッド | 説明 |
|----------|------|
| `join(timeout = nil)` | スレッドの終了を待つ（`timeout` 指定時はその秒数だけ待つ） |
| `kill` / `exit` | スレッドを終了させる |
| `alive?` | スレッドが実行中か確認 |
| `status` | スレッドの状態を取得 (`"run"`, `"sleep"`, `"abort"`, `nil`) |
| `value` | スレッドの戻り値を取得（スレッドが終了するまで待つ） |
| `priority=` | スレッドの優先度を設定（整数値が大きいほど優先される） |
| `[]` / `[]=` | スレッドローカル変数を取得/設定 |

| クラスメソッド | 説明 |
|----------|------|
| `new { ... }` / `start { ... }` | 新しいスレッドを作成し、並行実行する |
| `current` | 現在のスレッドを取得 |
| `main` | メインスレッド（プログラム開始時のスレッド）を取得 |
| `list` | 現在の全スレッドを取得 |
| `exit` | 現在のスレッドを終了 |
| `pass` | CPUを他のスレッドに譲る |

## Process.fork
- スレッドより独立しているプロセスを作成(メモリが非共有)
- `exec`を使い、完全に別プログラムとして動作させることも可能

## Asyncライブラリ
- イベントループを使った処理が可能
